#pwsh
# run in admin terminal
New-Item -Path $PROFILE -ItemType SymbolicLink -Value C:\Users\edlyu\ws\dotfiles\windows\pwsh\Microsoft.PowerShell_profile.ps1
#New-Item -Path C:\Users\edlyu\Documents\PowerShell\Microsoft.PowerShell_profile.ps1 -ItemType SymbolicLink -Value C:\Users\edlyu\ws\dotfiles\windows\pwsh\Microsoft.PowerShell_profile.ps1
# ln C:\Users\edlyu\ws\dotfiles\windows\pwsh\Microsoft.PowerShell_profile.ps1 C:\Users\edlyu\Documents\PowerShell\Microsoft.PowerShell_profile.ps1
choco install colortools
cd c:\ProgramData\chocolatey\lib\colortool\content
download Nord.itermcolors

#nvim
mkdir C:\Users\edlyu\.config
ln C:\Users\edlyu\ws\dotfiles\windows\nvim C:\Users\edlyu\.config\nvim
ln C:\Users\edlyu\ws\dotfiles\windows\nvim C:\Users\edlyu\AppData\Local\nvim
iwr -useb https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim |`
    ni "$(@($env:XDG_DATA_HOME, $env:LOCALAPPDATA)[$null -eq $env:XDG_DATA_HOME])/nvim-data/site/autoload/plug.vim" -Force


#terminal
cp C:\Users\edlyu\ws\dotfiles\windows\terminal\settings.json C:\Users\edlyu\AppData\Local\Packages\Microsoft.WindowsTerminal_8wekyb3d8bbwe\LocalState\settings.json

#alacritty
ln C:\Users\edlyu\ws\dotfiles\windows\alacritty\alacritty.yml C:\Users\edlyu\AppData\Roaming\alacritty\alacritty.yaml 

#wsl
#  fish
sudo apt-add-repository ppa:fish-shell/release-3
sudo apt update
sudo apt install fish
ln -s ~/ws/dotfiles/windows/fish/config.fish ~/.config/fish/config.fish
ln -s ~/ws/dotfiles/windows/fish/fishfile ~/.config/fish/fishfile
curl -sL https://git.io/fisher | source && fisher install jorgebucaran/fisher
#fisher install ilancosman/tide
fisher install jorgebucaran/hydro
#ln -s ~/ws/dotfiles/windows/fish/functions/fish_prompt.fish ~/.config/fish/functions/fish_prompt.fish
#  nvim
# install 0.7+ using ppa
# https://sharksforarms.dev/posts/neovim-rust/
# sudo add-apt-repository ppa:neovim-ppa/stable 
sh -c 'curl -fLo "${XDG_DATA_HOME:-$HOME/.local/share}"/nvim/site/autoload/plug.vim --create-dirs \
       https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim'
# in nvim :PlugInstall
# lsp needs unzip
# sudo apt install unzip
ln -s ~/ws/dotfiles/windows/nvim ~/.config/nvim
